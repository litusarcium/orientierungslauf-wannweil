<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR-Abenteuer</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        .location { padding: 10px; margin: 10px; border: 2px solid black; border-radius: 5px; background-color: #f4f4f4; display: flex; justify-content: space-between; max-width: 300px; margin: auto; }
        .reached { color: green; font-weight: bold; }
        .not-reached { color: red; font-weight: bold; }
    </style>
</head>
<body>

    <h1>QR-Abenteuer</h1>
    <p>Scanne QR-Codes, um deine Orte zu entdecken!</p>

    <h2>Deine erreichten Orte:</h2>
    <div id="locations"></div>

    <button onclick="resetProgress()">üîÑ Fortschritt zur√ºcksetzen</button>

    <script>
        // Liste aller m√∂glichen Orte
        const allLocations = { "burg": "üè∞ Burg", "schloss": "üèØ Schloss", "museum": "üèõÔ∏è Museum", "park": "üå≥ Park" };

        // Fortschritt aus Speicher laden
        let reachedLocations = JSON.parse(localStorage.getItem("qrProgress")) || [];

        // Pr√ºfen, ob ein Code in der URL steht
        const urlParams = new URLSearchParams(window.location.search);
        const scannedCode = urlParams.get("code");

        if (scannedCode && allLocations[scannedCode] && !reachedLocations.includes(scannedCode)) {
            reachedLocations.push(scannedCode);
            localStorage.setItem("qrProgress", JSON.stringify(reachedLocations));
            alert("‚úÖ Erfolgreich gescannt: " + allLocations[scannedCode]);
        }

        // Orte in der UI aktualisieren
        function updateLocations() {
            const container = document.getElementById("locations");
            container.innerHTML = "";
            for (const key in allLocations) {
                const div = document.createElement("div");
                div.className = "location";
                div.innerHTML = `<span>${allLocations[key]}</span> <span class="${reachedLocations.includes(key) ? 'reached' : 'not-reached'}">${reachedLocations.includes(key) ? '‚úÖ Erreicht!' : '‚ùå Noch nicht erreicht'}</span>`;
                container.appendChild(div);
            }
        }

        // Fortschritt zur√ºcksetzen
        function resetProgress() {
            localStorage.removeItem("qrProgress");
            reachedLocations = [];
            updateLocations();
        }

        updateLocations();
    </script>

</body>
</html>
